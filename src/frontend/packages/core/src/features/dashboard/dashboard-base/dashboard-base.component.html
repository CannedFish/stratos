<mat-sidenav-container class="dashboard"
  [ngClass]="{'dashboard__icon-mode': iconMode, 'dashboard__icon-mode-open': iconModeOpen}">
  <div class="page-content">
    <div class="page-header" *ngIf="tabNavService.pageHeader$ | async as portal">
      <ng-container [cdkPortalOutlet]="portal"></ng-container>
    </div>
    <app-routing-indicator class="routing-indicator"></app-routing-indicator>
    <div class="dashboard__inner">
      <div class="dashboard__page-tabs" *ngIf="tabNavService.tabNavs$ | async as tabs">
        <app-page-side-nav [header]="tabNavService.tabHeader$ | async" [tabs]="tabs">
        </app-page-side-nav>
      </div>
      <div class="dashboard__main">
        <div *ngIf="subNavData$ | async as data">
          <div class="page-header-sub-nav" *ngIf="data[0] || data[1]">
            <div class="page-header-sub-nav__container">
              <div *ngIf="data[0] as activeTabLabel" class="page-header-sub-nav__title">
                {{ activeTabLabel }}
              </div>
              <ng-container *ngIf="data[1] as portal" [cdkPortalOutlet]="portal"></ng-container>
            </div>
          </div>
        </div>
        <div #content class="dashboard__content" [ngClass]="{'dashboard__no-margin': noMargin}">
          <router-outlet></router-outlet>
        </div>
      </div>
    </div>
  </div>
  <mat-sidenav [style.width.px]="sideNavWidth" #sidenav class="dashboard__side-nav" mode="over"
    (mouseover)="iconModeMouse(true)" (mouseleave)="iconModeMouse(false)">
    <app-side-nav [tabs]="sideNavTabs">
    </app-side-nav>
  </mat-sidenav>
  <mat-sidenav #sideHelp mode="over" position="end" (closedStart)="sideHelpClosed()">
    <div class="dashboard__side-help">
      <app-markdown-preview [documentUrl]="helpDocumentUrl"></app-markdown-preview>
    </div>
  </mat-sidenav>
</mat-sidenav-container>